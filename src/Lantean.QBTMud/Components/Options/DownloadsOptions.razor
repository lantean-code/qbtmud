@inherits Options
@using Lantean.QBitTorrentClient.Models
@using Lantean.QBTMud.Components.UI

<MudCard Elevation="1" Class="ml-4 mr-4 mb-4 mt-4">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.subtitle2">@LanguageLocalizer.Translate("OptionsDialog", "When adding a torrent")</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent Class="pt-0">
        <MudGrid>
            <MudItem xs="12">
                <MudSelect T="string" Label="@LanguageLocalizer.Translate("OptionsDialog", "Torrent content layout:")" Value="TorrentContentLayout" ValueChanged="TorrentContentLayoutChanged" Variant="Variant.Outlined" ShrinkLabel="true" data-test-id="@TestIdHelper.For("TorrentContentLayout")">
                    <MudSelectItem Value="@("Original")">@LanguageLocalizer.Translate("OptionsDialog", "Original")</MudSelectItem>
                    <MudSelectItem Value="@("Subfolder")">@LanguageLocalizer.Translate("OptionsDialog", "Create subfolder")</MudSelectItem>
                    <MudSelectItem Value="@("NoSubfolder")">@LanguageLocalizer.Translate("OptionsDialog", "Don't create subfolder")</MudSelectItem>
                </MudSelect>
            </MudItem>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Add to top of queue")" Value="AddToTopOfQueue" ValueChanged="AddToTopOfQueueChanged" data-test-id="@TestIdHelper.For("AddToTopOfQueue")" />
            </MudItem>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Do not start the download automatically")" Value="AddStoppedEnabled" ValueChanged="AddStoppedEnabledChanged" data-test-id="@TestIdHelper.For("AddStoppedEnabled")" />
            </MudItem>
            <MudItem xs="12">
                <MudSelect T="string" Label="@LanguageLocalizer.Translate("OptionsDialog", "Torrent stop condition:")" Value="TorrentStopCondition" ValueChanged="TorrentStopConditionChanged" Variant="Variant.Outlined" ShrinkLabel="true" data-test-id="@TestIdHelper.For("TorrentStopCondition")">
                    <MudSelectItem Value="@("None")">@LanguageLocalizer.Translate("OptionsDialog", "None")</MudSelectItem>
                    <MudSelectItem Value="@("MetadataReceived")">@LanguageLocalizer.Translate("OptionsDialog", "Metadata received")</MudSelectItem>
                    <MudSelectItem Value="@("FilesChecked")">@LanguageLocalizer.Translate("OptionsDialog", "Files checked")</MudSelectItem>
                </MudSelect>
            </MudItem>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Delete .torrent files afterwards")" Value="AutoDeleteMode" ValueChanged="AutoDeleteModeChanged" data-test-id="@TestIdHelper.For("AutoDeleteMode")" />
            </MudItem>
        </MudGrid>
    </MudCardContent>
</MudCard>

<MudCard Elevation="1" Class="ml-4 mr-4 mb-4">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.subtitle2">@LanguageLocalizer.Translate("OptionsDialog", "Files")</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent>
        <MudGrid>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Pre-allocate disk space for all files")" Value="PreallocateAll" ValueChanged="PreallocateAllChanged" data-test-id="@TestIdHelper.For("PreallocateAll")" />
            </MudItem>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Append .!qB extension to incomplete files")" Value="IncompleteFilesExt" ValueChanged="IncompleteFilesExtChanged" data-test-id="@TestIdHelper.For("IncompleteFilesExt")" />
            </MudItem>
        </MudGrid>
    </MudCardContent>
</MudCard>

<MudCard Elevation="1" Class="ml-4 mr-4 mb-4">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.subtitle2">@LanguageLocalizer.Translate("HttpServer", "Saving Management")</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent Class="pt-0">
        <MudGrid>
            <MudItem xs="12">
                <MudSelect T="bool" Label="@LanguageLocalizer.Translate("OptionsDialog", "Default Torrent Management Mode:")" Value="AutoTmmEnabled" ValueChanged="AutoTmmEnabledChanged" Variant="Variant.Outlined" ShrinkLabel="true" data-test-id="@TestIdHelper.For("AutoTmmEnabled")">
                    <MudSelectItem Value="false">@LanguageLocalizer.Translate("OptionsDialog", "Manual")</MudSelectItem>
                    <MudSelectItem Value="true">@LanguageLocalizer.Translate("OptionsDialog", "Automatic")</MudSelectItem>
                </MudSelect>
            </MudItem>
            <MudItem xs="12">
                <MudSelect T="bool" Label="@LanguageLocalizer.Translate("OptionsDialog", "When Torrent Category changed:")" Value="TorrentChangedTmmEnabled" ValueChanged="TorrentChangedTmmEnabledChanged" Variant="Variant.Outlined" ShrinkLabel="true" data-test-id="@TestIdHelper.For("TorrentChangedTmmEnabled")">
                    <MudSelectItem Value="true">@LanguageLocalizer.Translate("OptionsDialog", "Relocate torrent")</MudSelectItem>
                    <MudSelectItem Value="false">@LanguageLocalizer.Translate("OptionsDialog", "Switch torrent to Manual Mode")</MudSelectItem>
                </MudSelect>
            </MudItem>
            <MudItem xs="12">
                <MudSelect T="bool" Label="@LanguageLocalizer.Translate("OptionsDialog", "When Default Save Path changed:")" Value="SavePathChangedTmmEnabled" ValueChanged="SavePathChangedTmmEnabledChanged" Variant="Variant.Outlined" ShrinkLabel="true" data-test-id="@TestIdHelper.For("SavePathChangedTmmEnabled")">
                    <MudSelectItem Value="true">@LanguageLocalizer.Translate("OptionsDialog", "Relocate affected torrents")</MudSelectItem>
                    <MudSelectItem Value="false">@LanguageLocalizer.Translate("OptionsDialog", "Switch affected torrents to Manual Mode")</MudSelectItem>
                </MudSelect>
            </MudItem>
            <MudItem xs="12">
                <MudSelect T="bool" Label="@LanguageLocalizer.Translate("OptionsDialog", "When Category Save Path changed:")" Value="CategoryChangedTmmEnabled" ValueChanged="CategoryChangedTmmEnabledChanged" Variant="Variant.Outlined" ShrinkLabel="true" data-test-id="@TestIdHelper.For("CategoryChangedTmmEnabled")">
                    <MudSelectItem Value="true">@LanguageLocalizer.Translate("OptionsDialog", "Relocate affected torrents")</MudSelectItem>
                    <MudSelectItem Value="false">@LanguageLocalizer.Translate("OptionsDialog", "Switch affected torrents to Manual Mode")</MudSelectItem>
                </MudSelect>
            </MudItem>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Use Category paths in Manual Mode")" Value="UseSubcategories" ValueChanged="UseSubcategoriesChanged" data-test-id="@TestIdHelper.For("UseSubcategories")" />
            </MudItem>
            <MudItem xs="12">
                <PathAutocomplete Label="@LanguageLocalizer.Translate("OptionsDialog", "Default Save Path:")"
                                  Value="@SavePath"
                                  ValueChanged="@(value => SavePathChanged(value ?? string.Empty))"
                                  Mode="DirectoryContentMode.Directories"
                                  Immediate="true"
                                  DebounceInterval="300"
                                  data-test-id="@TestIdHelper.For("SavePath")" />
            </MudItem>
            <MudItem xs="12">
                <MudGrid>
                    <MudItem xs="12" sm="6" md="3">
                        <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Keep incomplete torrents in:")" Value="TempPathEnabled" ValueChanged="TempPathEnabledChanged" data-test-id="@TestIdHelper.For("TempPathEnabled")" />
                    </MudItem>
                    <MudItem xs="12" sm="6" md="9">
                        <PathAutocomplete Label="@LanguageLocalizer.Translate("CookiesDialog", "Path")"
                                          Value="@TempPath"
                                          ValueChanged="@(value => TempPathChanged(value ?? string.Empty))"
                                          Mode="DirectoryContentMode.Directories"
                                          Disabled="@(TempPathEnabled != true)"
                                          Immediate="true"
                                          DebounceInterval="300"
                                          data-test-id="@TestIdHelper.For("TempPath")" />
                    </MudItem>
                </MudGrid>
            </MudItem>
            <MudItem xs="12">
                <MudGrid>
                    <MudItem xs="12" sm="6" md="3">
                        <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Copy .torrent files to:")" Value="ExportDirEnabled" ValueChanged="ExportDirEnabledChanged" data-test-id="@TestIdHelper.For("ExportDirEnabled")" />
                    </MudItem>
                    <MudItem xs="12" sm="6" md="9">
                        <PathAutocomplete Label="@LanguageLocalizer.Translate("CookiesDialog", "Path")"
                                          Value="@ExportDir"
                                          ValueChanged="@(value => ExportDirChanged(value ?? string.Empty))"
                                          Mode="DirectoryContentMode.Directories"
                                          Disabled="@(TempPathEnabled != true)"
                                          Immediate="true"
                                          DebounceInterval="300"
                                          data-test-id="@TestIdHelper.For("ExportDir")" />
                    </MudItem>
                </MudGrid>
            </MudItem>
            <MudItem xs="12">
                <MudGrid>
                    <MudItem xs="12" sm="6" md="3">
                        <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Copy .torrent files for finished downloads to:")" Value="ExportDirFinEnabled" ValueChanged="ExportDirFinEnabledChanged" data-test-id="@TestIdHelper.For("ExportDirFinEnabled")" />
                    </MudItem>
                    <MudItem xs="12" sm="6" md="9">
                        <PathAutocomplete Label="@LanguageLocalizer.Translate("CookiesDialog", "Path")"
                                          Value="@ExportDirFin"
                                          ValueChanged="@(value => ExportDirFinChanged(value ?? string.Empty))"
                                          Mode="DirectoryContentMode.Directories"
                                          Disabled="@(ExportDirFinEnabled != true)"
                                          Immediate="true"
                                          DebounceInterval="300"
                                          data-test-id="@TestIdHelper.For("ExportDirFin")" />
                    </MudItem>
                </MudGrid>
            </MudItem>
        </MudGrid>
    </MudCardContent>
</MudCard>

<MudCard Elevation="1" Class="ml-4 mr-4 mb-4">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.subtitle2">@LanguageLocalizer.Translate("OptionsDialog", "Automatically add torrents from:")</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent Class="pt-0">
        <MudSimpleTable>
            <thead>
                <tr>
                    <th>@LanguageLocalizer.Translate("ScanFoldersModel", "Monitored Folder")</th>
                    <th>@LanguageLocalizer.Translate("ScanFoldersModel", "Override Save Location")</th>
                </tr>
            </thead>
            <tbody>
                @{
                    var existingScanDirs = ScanDirs.ToList();
                }
                @for (var i = 0; i < existingScanDirs.Count; i++)
                {
                    var item = existingScanDirs[i];
                    var key = item.Key;
                    var location = item.Value;
                    var rowId = $"ScanDirsExisting[{i}]";

                    <tr>
                        <td>
                            <PathAutocomplete Label="@LanguageLocalizer.Translate("CookiesDialog", "Path")"
                                              Value="@key"
                                              ValueChanged="@(v => ScanDirsKeyChanged(key, v ?? string.Empty))"
                                              Mode="DirectoryContentMode.Directories"
                                              Validation="IsValidNewKey"
                                              Immediate="true"
                                              DebounceInterval="300"
                                              Dense="true"
                                              data-test-id="@(TestIdHelper.For($"{rowId}.Key"))" />
                        </td>
                        <td>
                            <MudGrid>
                                <MudItem xs="@(location.SavePath is null ? 11 : 3)">
                                    <MudSelect T="string" Value="@location.ToString()" ValueChanged="@(v => ScanDirsValueChanged(key, v))" Variant="Variant.Outlined" ShrinkLabel="true" data-test-id="@(TestIdHelper.For($"{rowId}.Type"))">
                                        <MudSelectItem T="string" Value="@("0")">@LanguageLocalizer.Translate("ScanFoldersModel", "Monitored folder")</MudSelectItem>
                                        <MudSelectItem T="string" Value="@("1")">@LanguageLocalizer.Translate("ScanFoldersModel", "Default save location")</MudSelectItem>
                                        <MudSelectItem T="string" Value="@(location.SavePath is not null ? location.SavePath : string.Empty)">@LanguageLocalizer.Translate("ScanFoldersModel", "Other...")</MudSelectItem>
                                    </MudSelect>
                                </MudItem>
                                @if (location.SavePath is not null)
                                {
                                    <MudItem xs="8">
                                        <PathAutocomplete Label="@LanguageLocalizer.Translate("CookiesDialog", "Path")"
                                                          Value="@location.SavePath"
                                                          ValueChanged="@(v => ScanDirsValueChanged(key, v ?? string.Empty))"
                                                          Mode="DirectoryContentMode.Directories"
                                                          Immediate="true"
                                                          DebounceInterval="300"
                                                          Dense="true"
                                                          data-test-id="@(TestIdHelper.For($"{rowId}.SavePath"))" />
                                    </MudItem>
                                }
                                <MudItem xs="1">
                                    <MudIconButton Icon="@Icons.Material.Outlined.Remove" OnClick="@(() => RemoveExistingScanDir(key))" data-test-id="@(TestIdHelper.For($"{rowId}.Remove"))" />
                                </MudItem>
                            </MudGrid>

                        </td>
                    </tr>
                }
                @for (int i = 0; i < AddedScanDirs.Count; i++)
                {
                    var item = AddedScanDirs[i];
                    var index = i;
                    var isLast = i == AddedScanDirs.Count - 1;
                    var rowId = $"AddedScanDirs[{i}]";

                    <tr>
                        <td>
                            <PathAutocomplete Label="@LanguageLocalizer.Translate("CookiesDialog", "Path")"
                                              Value="@item.Key"
                                              ValueChanged="@(v => AddedScanDirsKeyChanged(index, v ?? string.Empty))"
                                              Mode="DirectoryContentMode.Directories"
                                              Validation="IsValidNewKey"
                                              Immediate="true"
                                              DebounceInterval="300"
                                              Dense="true"
                                              data-test-id="@(TestIdHelper.For($"{rowId}.Key"))" />
                        </td>
                        <td>
                            <MudGrid>
                                <MudItem xs="@(item.Value.SavePath is null ? (isLast ? 11 : 12) : 3)">
                                    <MudSelect T="string" Value="@item.Value.ToString()" ValueChanged="@(v => AddedScanDirsValueChanged(index, v))" Variant="Variant.Outlined" ShrinkLabel="true" data-test-id="@(TestIdHelper.For($"{rowId}.Type"))">
                                        <MudSelectItem T="string" Value="@("0")">@LanguageLocalizer.Translate("ScanFoldersModel", "Monitored folder")</MudSelectItem>
                                        <MudSelectItem T="string" Value="@("1")">@LanguageLocalizer.Translate("ScanFoldersModel", "Default save location")</MudSelectItem>
                                        <MudSelectItem T="string" Value="@(item.Value.SavePath is not null ? item.Value.SavePath : "")">@LanguageLocalizer.Translate("ScanFoldersModel", "Other...")</MudSelectItem>
                                    </MudSelect>
                                </MudItem>
                                @if (item.Value.SavePath is not null)
                                {
                                    <MudItem xs="@(isLast ? 8 : 9)">
                                        <PathAutocomplete Label="@LanguageLocalizer.Translate("CookiesDialog", "Path")"
                                                          Value="@item.Value.SavePath"
                                                          ValueChanged="@(v => AddedScanDirsValueChanged(index, v ?? string.Empty))"
                                                          Mode="DirectoryContentMode.Directories"
                                                          Immediate="true"
                                                          DebounceInterval="300"
                                                          Dense="true"
                                                          data-test-id="@(TestIdHelper.For($"{rowId}.SavePath"))" />
                                    </MudItem>
                                }
                                <MudItem xs="1">
                                    @if (isLast)
                                    {
                                        <MudIconButton Icon="@Icons.Material.Outlined.Add" OnClick="AddNewScanDir" data-test-id="@(TestIdHelper.For($"{rowId}.Add"))" />
                                    }
                                    else
                                    {
                                        <MudIconButton Icon="@Icons.Material.Outlined.Remove" OnClick="@(() => RemoveAddedScanDir(index))" data-test-id="@(TestIdHelper.For($"{rowId}.Remove"))" />
                                    }
                                </MudItem>
                            </MudGrid>
                        </td>
                    </tr>
                }
            </tbody>
        </MudSimpleTable>
    </MudCardContent>
</MudCard>

<MudCard Elevation="1" Class="ml-4 mr-4 mb-4">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.subtitle2">@LanguageLocalizer.Translate("OptionsDialog", "Excluded file names")</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent>
        <MudGrid>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Excluded file names")" Value="ExcludedFileNamesEnabled" ValueChanged="ExcludedFileNamesEnabledChanged" data-test-id="@TestIdHelper.For("ExcludedFileNamesEnabled")" />
            </MudItem>
            <MudItem xs="12">
                <MudTextField T="string" Label="@LanguageLocalizer.Translate("OptionsDialog", "Excluded file names")" Value="ExcludedFileNames" ValueChanged="ExcludedFileNamesChanged" Lines="5" Disabled="@(ExcludedFileNamesEnabled != true)" Variant="Variant.Outlined" ShrinkLabel="true" Immediate="true" DebounceInterval="300" data-test-id="@TestIdHelper.For("ExcludedFileNames")" />
            </MudItem>
        </MudGrid>
    </MudCardContent>
</MudCard>

<MudCard Elevation="1" Class="ml-4 mr-4 mb-4">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.subtitle2">@LanguageLocalizer.Translate("OptionsDialog", "Email notification upon download completion")</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent>
        <MudGrid>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Email notification upon download completion")" Value="MailNotificationEnabled" ValueChanged="MailNotificationEnabledChanged" data-test-id="@TestIdHelper.For("MailNotificationEnabled")" />
            </MudItem>
            <MudItem xs="12">
                <MudTextField T="string" Label="@LanguageLocalizer.Translate("OptionsDialog", "From:")" Value="MailNotificationSender" ValueChanged="MailNotificationSenderChanged" Disabled="@(MailNotificationEnabled != true)" Variant="Variant.Outlined" ShrinkLabel="true" Immediate="true" DebounceInterval="300" data-test-id="@TestIdHelper.For("MailNotificationSender")" />
            </MudItem>
            <MudItem xs="12">
                <MudTextField T="string" Label="@LanguageLocalizer.Translate("OptionsDialog", "To:")" Value="MailNotificationEmail" ValueChanged="MailNotificationEmailChanged" Disabled="@(MailNotificationEnabled != true)" Variant="Variant.Outlined" ShrinkLabel="true" Immediate="true" DebounceInterval="300" data-test-id="@TestIdHelper.For("MailNotificationEmail")" />
            </MudItem>
            <MudItem xs="12">
                <MudTextField T="string" Label="@LanguageLocalizer.Translate("OptionsDialog", "SMTP server:")" Value="MailNotificationSmtp" ValueChanged="MailNotificationSmtpChanged" Disabled="@(MailNotificationEnabled != true)" Variant="Variant.Outlined" ShrinkLabel="true" Immediate="true" DebounceInterval="300" data-test-id="@TestIdHelper.For("MailNotificationSmtp")" />
            </MudItem>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "This server requires a secure connection (SSL)")" Value="MailNotificationSslEnabled" ValueChanged="MailNotificationSslEnabledChanged" Disabled="@(MailNotificationEnabled != true)" data-test-id="@TestIdHelper.For("MailNotificationSslEnabled")" />
            </MudItem>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Authentication")" Value="MailNotificationAuthEnabled" ValueChanged="MailNotificationAuthEnabledChanged" Disabled="@(MailNotificationEnabled != true)" data-test-id="@TestIdHelper.For("MailNotificationAuthEnabled")" />
            </MudItem>
            <MudItem xs="12">
                <MudTextField T="string" Label="@LanguageLocalizer.Translate("OptionsDialog", "Username:")" Value="MailNotificationUsername" ValueChanged="MailNotificationUsernameChanged" Disabled="@(MailNotificationEnabled != true || MailNotificationAuthEnabled != true)" Variant="Variant.Outlined" ShrinkLabel="true" Immediate="true" DebounceInterval="300" data-test-id="@TestIdHelper.For("MailNotificationUsername")" />
            </MudItem>
            <MudItem xs="12">
                <MudTextField T="string" Label="@LanguageLocalizer.Translate("OptionsDialog", "Password:")" Value="MailNotificationPassword" ValueChanged="MailNotificationPasswordChanged" Disabled="@(MailNotificationEnabled != true || MailNotificationAuthEnabled != true)" InputType="InputType.Password" Variant="Variant.Outlined" ShrinkLabel="true" Immediate="true" DebounceInterval="300" data-test-id="@TestIdHelper.For("MailNotificationPassword")" />
            </MudItem>
        </MudGrid>
    </MudCardContent>
</MudCard>

<MudCard Elevation="1" Class="ml-4 mr-4 mb-4">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.subtitle2">@LanguageLocalizer.Translate("OptionsDialog", "Run external program")</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent Class="pt-0">
        <MudGrid>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Run on torrent added:")" Value="AutorunOnTorrentAddedEnabled" ValueChanged="AutorunOnTorrentAddedEnabledChanged" data-test-id="@TestIdHelper.For("AutorunOnTorrentAddedEnabled")" />
            </MudItem>
            <MudItem xs="12">
                <MudTextField T="string" Label="@LanguageLocalizer.Translate("OptionsDialog", "External program")" Value="AutorunOnTorrentAddedProgram" ValueChanged="AutorunOnTorrentAddedProgramChanged" Disabled="@(AutorunOnTorrentAddedEnabled != true)" Variant="Variant.Outlined" ShrinkLabel="true" Immediate="true" DebounceInterval="300" data-test-id="@TestIdHelper.For("AutorunOnTorrentAddedProgram")" />
            </MudItem>
            <MudItem xs="12">
                <FieldSwitch Label="@LanguageLocalizer.Translate("OptionsDialog", "Run on torrent finished:")" Value="AutorunEnabled" ValueChanged="AutorunEnabledChanged" data-test-id="@TestIdHelper.For("AutorunEnabled")" />
            </MudItem>
            <MudItem xs="12">
                <MudTextField T="string" Label="@LanguageLocalizer.Translate("OptionsDialog", "External program")" Value="AutorunProgram" ValueChanged="AutorunProgramChanged" Disabled="@(AutorunEnabled != true)" Variant="Variant.Outlined" ShrinkLabel="true" Immediate="true" DebounceInterval="300" data-test-id="@TestIdHelper.For("AutorunProgram")" />
            </MudItem>
            <MudItem xs="12">
                <MudText>@LanguageLocalizer.Translate("OptionsDialog", "Supported parameters (case sensitive):")</MudText>
                <MudList T="string" ReadOnly="true">
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%N: Torrent name")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%L: Category")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%G: Tags (separated by comma)")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%F: Content path (same as root path for multifile torrent)")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%R: Root path (first torrent subdirectory path)")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%D: Save path")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%C: Number of files")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%Z: Torrent size (bytes)")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%T: Current tracker")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%I: Info hash v1")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%J: Info hash v2")</MudListItem>
                    <MudListItem>@LanguageLocalizer.Translate("OptionsDialog", "%K: Torrent ID")</MudListItem>
                </MudList>
            </MudItem>
        </MudGrid>
    </MudCardContent>
</MudCard>
