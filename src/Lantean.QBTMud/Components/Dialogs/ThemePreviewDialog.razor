@using Lantean.QBTMud.Components.UI
@using Lantean.QBTMud.Helpers
@using MudBlazor.Utilities
<MudDialog ContentClass="theme-preview-dialog__content"
           ContentStyle="width: min(1800px, calc(100vw - 4rem)); height: calc(100vh - 4rem);">
    <DialogContent>
        <MudThemeProvider Theme="PreviewTheme"
                          IsDarkMode="@_isDarkMode"
                          ObserveSystemThemeChange="false" />
        <div class="theme-preview theme-preview-scope">
            <div class="theme-preview__appbar">
                <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" data-test-id="@TestIdHelper.For("ThemePreviewMenu")" />
                <MudText Typo="Typo.subtitle1">@Translate("qBittorrent Web UI")</MudText>
                <MudSpacer />
                <MudIconButton Icon="@DarkModeIcon"
                               Color="Color.Inherit"
                               title="@DarkModeTooltip"
                               OnClick="ToggleDarkMode"
                               data-test-id="@TestIdHelper.For("ThemePreviewToggleMode")" />
                <MudIconButton Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit" data-test-id="@TestIdHelper.For("ThemePreviewOptions")" />
                <MudIconButton Icon="@Icons.Material.Filled.Close" Color="Color.Inherit" OnClick="Close" data-test-id="@TestIdHelper.For("ThemePreviewClose")" />
            </div>
            <div class="theme-preview__body">
                <div class="theme-preview__sidebar">
                    <MudNavMenu Dense="true">
                        <CustomNavLink Icon="@Icons.Material.Outlined.Navigation"
                                       OnClick="HandleNavClick">@Translate("Torrents")</CustomNavLink>
                        <MudDivider />
                        <CustomNavLink Icon="@Icons.Material.Filled.PieChart"
                                       OnClick="HandleNavClick">@Translate("Statistics")</CustomNavLink>
                        <CustomNavLink Icon="@Icons.Material.Filled.ShowChart"
                                       OnClick="HandleNavClick">@Translate("Speed")</CustomNavLink>
                        <CustomNavLink Icon="@Icons.Material.Filled.Search"
                                       OnClick="HandleNavClick">@Translate("Search")</CustomNavLink>
                        <CustomNavLink Icon="@Icons.Material.Filled.RssFeed"
                                       OnClick="HandleNavClick">@Translate("RSS")</CustomNavLink>
                        <MudDivider />
                        <CustomNavLink Icon="@Icons.Material.Filled.Palette"
                                       Active="true"
                                       OnClick="HandleNavClick">@Translate("Theme Manager")</CustomNavLink>
                        <CustomNavLink Icon="@Icons.Material.Filled.Settings"
                                       OnClick="HandleNavClick">@Translate("Settings")</CustomNavLink>
                    </MudNavMenu>
                </div>
                <div class="theme-preview__content">
                    <MudText Typo="Typo.h6">@Translate("Preview")</MudText>
                    <MudText Typo="Typo.body2" Class="mb-3">@Translate("This is a quick snapshot of how the UI colors and typography feel.")</MudText>

                    <MudPaper Class="theme-preview__card">
                        <MudText Typo="Typo.subtitle2">@Translate("Quick actions")</MudText>
                        <MudStack Row="true" Spacing="1" Class="mt-2">
                            <MudButton Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.PlayArrow">@Translate("Start")</MudButton>
                            <MudButton Variant="Variant.Filled" Color="Color.Error" StartIcon="@Icons.Material.Filled.Stop">@Translate("Stop")</MudButton>
                            <MudButton Variant="Variant.Outlined" Color="Color.Default" StartIcon="@Icons.Material.Filled.Delete">@Translate("Delete")</MudButton>
                        </MudStack>
                    </MudPaper>

                    <MudPaper Class="theme-preview__card">
                        <MudText Typo="Typo.subtitle2">@Translate("Status chips")</MudText>
                        <MudStack Row="true" Spacing="1" Class="mt-2">
                            <MudChip T="string" Color="Color.Success" Variant="Variant.Filled">@Translate("Downloading")</MudChip>
                            <MudChip T="string" Color="Color.Info" Variant="Variant.Filled">@Translate("Seeding")</MudChip>
                            <MudChip T="string" Color="Color.Warning" Variant="Variant.Filled">@Translate("Paused")</MudChip>
                        </MudStack>
                    </MudPaper>

                    <MudPaper Class="theme-preview__card">
                        <MudText Typo="Typo.subtitle2">@Translate("Progress")</MudText>
                        <MudProgressLinear Value="62" Color="Color.Primary" Class="mt-2" />
                        <MudProgressLinear Value="35" Color="Color.Info" Class="mt-2" />
                    </MudPaper>
                </div>
            </div>
            <div class="theme-preview__footer">
                <MudSpacer />
                <MudText Typo="Typo.caption" Class="mx-2">@Translate("Free space: 1.28 TB")</MudText>
                <MudDivider Vertical="true" />
                <MudText Typo="Typo.caption" Class="mx-2">@Translate("External IP: 127.0.0.1")</MudText>
                <MudDivider Vertical="true" />
                <MudText Typo="Typo.caption" Class="mx-2">@Translate("DHT: 684 nodes")</MudText>
                <MudDivider Vertical="true" />
                <MudIcon Class="ml-2" Icon="@Icons.Material.Filled.KeyboardDoubleArrowDown" Color="Color.Success" />
                <MudText Typo="Typo.caption" Class="mr-2">@Translate("1.5 GB/s (178 TB)")</MudText>
                <MudDivider Vertical="true" />
                <MudIcon Class="ml-2" Icon="@Icons.Material.Filled.KeyboardDoubleArrowUp" Color="Color.Info" />
                <MudText Typo="Typo.caption" Class="mr-2">@Translate("427 MB/s (229 TB)")</MudText>
            </div>
        </div>
    </DialogContent>
</MudDialog>
